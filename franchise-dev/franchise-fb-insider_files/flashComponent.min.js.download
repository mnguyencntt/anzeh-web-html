"use strict";define("flashComponent",["lodash","reactDOM","core","coreUtils","santaProps","image","swfobject"],function(i,t,e,o,n,s){function a(i,t,e,o){var n=!!i.link?m.renderLink(i.link,t,o):{};return n.style={textAlign:e.align},n}function r(i,t,e,n,s){var a={width:t,height:e},r={width:n,height:s};return"fit"===i?o.imageUtils.getContainerSize(a,r,u.fittingTypes.LEGACY_FIT_WIDTH):"stretch"===i?o.imageUtils.getContainerSize(a,r,u.fittingTypes.STRETCH):{width:n,height:s}}function p(i,t){return this.createChildComponent(i,"core.components.Image","noFlashImg",{id:this.props.id+"noFlashImg",ref:"noFlashImg",imageData:i,containerWidth:t.width,containerHeight:t.height,displayMode:u.fittingTypes.LEGACY_FULL})}function l(){window.swfobject.embedSWF(c(this.props.compData,this.props.staticMediaUrl),this.props.id+"flashContainer","100%","100%","10.0.0","playerProductInstall.swf",null,{quality:"high",bgcolor:"#FAFAFA",allowscriptaccess:"never",allowfullscreen:"true",wMode:"transparent",scale:"exactFit",flashVars:"",play:"true",autoplay:"true"},{align:"middle"},h.bind(this)),this.embeddedUri=this.props.compData.uri}function h(i){i.success&&(t.findDOMNode(this.refs.noFlashImgContainer).style.display="none")}function c(i,t){return i.uri?t+"/"+i.uri:""}var d=e.compMixins,m=o.linkRenderer,u=o.imageUtils,g={displayName:"FlashComponent",mixins:[d.skinBasedComp],statics:{useSantaTypes:!0},propTypes:i.assign({staticMediaUrl:n.Types.ServiceTopology.staticMediaUrl.isRequired,linkRenderInfo:n.Types.Link.linkRenderInfo.isRequired,id:n.Types.Component.id.isRequired,compData:n.Types.Component.compData.isRequired,compProp:n.Types.Component.compProp.isRequired,style:n.Types.Component.style.isRequired,rootNavigationInfo:n.Types.Component.rootNavigationInfo.isRequired},n.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.embeddedUri=null,{$linkableComponent:!!this.props.compData.link?"link":"noLink"}},componentDidMount:function(){l.call(this)},componentDidUpdate:function(){this.props.compData.uri!==this.embeddedUri&&l.call(this)},getSkinProperties:function(){var i=this.props.compData.placeHolderImage,t=this.props.compProp.displayMode,e=this.props.compData.uri?this.props.compData.width:i.width,o=this.props.compData.uri?this.props.compData.height:i.height,n=r(t,this.props.style.width,this.props.style.height,e,o);return{"":{style:{width:n.width,height:n.height}},link:a(this.props.compData,this.props.linkRenderInfo,this.props.compProp,this.props.rootNavigationInfo),noFlashImg:p.call(this,i,n)}}};return e.compRegistrar.register("wysiwyg.viewer.components.FlashComponent",g,!0),g});
//# sourceMappingURL=flashComponent.min.js.map
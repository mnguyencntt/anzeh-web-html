"use strict";define("htmlComponent",["lodash","react","core","utils","santaProps"],function(o,t,s,e,n){function r(){var t=this.props.compData.url,s="external"===this.props.compData.sourceType,n=this.props.serviceTopologyStaticHTMLComponentUrl,r=o.startsWith(this.props.serviceTopologyStaticHTMLComponentUrl,"https")?"https:":"http:";return!s&&e.stringUtils.startsWith(t,"html/")&&(t=n+t),t=c.addProtocolIfMissing(t,r),n=c.addProtocolIfMissing(n),"https:"===r&&(t=c.setProtocol(t,r)),s||(t=t.replace("//static.wixstatic.com",n)),t}function i(o){return!!o.url}function p(){var t={sandbox:"allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock"},s={width:"100%",height:"100%",ref:"iframe",onLoad:this.onLoad,scrolling:this.props.compData.scrolling||"auto","data-src":i(this.props.compData)?r.call(this):""};return this.props.compData.allowFullScreen&&o.assign(s,{allowFullScreen:!0}),a.call(this)?o.assign(s,t):s}function a(){return this.props.useSandboxInHTMLComp}var l=s.compMixins,c=e.urlUtils,m={displayName:"HtmlComponent",mixins:[l.skinBasedComp],propTypes:{compData:n.Types.Component.compData,serviceTopologyStaticHTMLComponentUrl:n.Types.ServiceTopology.staticHTMLComponentUrl,useSandboxInHTMLComp:n.Types.RendererModel.useSandboxInHTMLComp,os:n.Types.Browser.os.isRequired,registerComponentToPostMessage:n.Types.HtmlPostMessage.registerComponent.isRequired,unRegisterComponentFromPostMessage:n.Types.HtmlPostMessage.unRegisterComponent.isRequired,externalBaseUrl:n.Types.PublicModel.externalBaseUrl},statics:{useSantaTypes:!0},onLoad:function(){this.props.registerComponentToPostMessage(this.props.id,this.refs.iframe.contentWindow)},getInitialState:function(){return{$content:i(this.props.compData)?"hasContent":"noContent"}},componentWillUnmount:function(){this.props.unRegisterComponentFromPostMessage(this.props.id)},componentWillReceiveProps:function(){this.setState({$content:i(this.props.compData)?"hasContent":"noContent"})},getSkinProperties:function(){var s={};return!0===this.props.os.ios&&o.assign(s,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),{"":{style:s},iFrameHolder:{children:[t.DOM.iframe(p.call(this))]}}}};return s.compRegistrar.register("wysiwyg.viewer.components.HtmlComponent",m,!0),m});
//# sourceMappingURL=htmlComponent.min.js.map
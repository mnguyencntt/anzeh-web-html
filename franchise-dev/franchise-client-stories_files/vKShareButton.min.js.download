"use strict";define("vKShareButton/SantaTypes/vkSantaTypes",["lodash","react","santaProps"],function(e,t,s){var a={Button:{w:100,h:21},ButtonWithoutCounter:{w:64,h:21},Link:{w:50,h:21},LinkWithoutIcon:{w:30,h:21},Icon:{w:36,h:36}},r=function(e,t){var s=a[t]||a.Button;return{width:e||s.w,height:s.h}};return{size:s.createSantaType(t.PropTypes.shape({width:t.PropTypes.number}),function(t,a){var n=s.Types.Component.compData.fetch(t,a),i=e.get(t.siteAPI.getAspectComponentData("vkPostMessage",a.structure.id),"width");return r(i,n.style)},!0)}}),define("vKShareButton/aspect/vkPostMessageAspect",[],function(){function e(e){var t;try{t=JSON.parse(e.data)}catch(e){return}t.id&&t.width&&this._siteAspectsSiteAPI.updateAspectComponentData(s,t.id,t)}function t(t){this._siteAspectsSiteAPI=t,t.registerToMessage(e.bind(this))}var s="vkPostMessage";return{ctor:t,name:s}}),define("vKShareButton/component/vKShareButton",["react","lodash","core","santaProps","utils","socialCommon","vKShareButton/SantaTypes/vkSantaTypes","vKShareButton/aspect/vkPostMessageAspect"],function(e,t,s,a,r,n,i){function o(e,s,a){return{allowTransparency:"true",key:"VKShareButton-"+e.currentUrlPageId,frameBorder:"0","data-src":p(e,a),scrolling:"no",style:t.clone(s),title:"VK Share","aria-label":"VK Share"}}var p=function(e,t){var s=e.compData,a={id:e.id,url:t,style:s.style,text:s.text||"Share"};return e.santaBase+"/static/external/VKShare.html?"+r.urlUtils.toQueryString(a)};return{displayName:"VKShareButton",mixins:[s.compMixins.skinBasedComp,n.socialCompMixin],statics:{useSantaTypes:!0},propTypes:{compData:a.Types.Component.compData.isRequired,id:a.Types.Component.id.isRequired,santaBase:a.Types.santaBase.isRequired,currentUrlPageId:a.Types.currentUrlPageId.isRequired,size:i.size.isRequired},getSkinProperties:function(){var t=this.getSocialUrl(),s=o(this.props,this.props.size,t);return{"":{style:this.props.size,tabIndex:0,title:"VK Share","aria-label":"VK Share"},iframe:e.DOM.iframe(s)}}}}),define("vKShareButton",["core","vKShareButton/component/vKShareButton","vKShareButton/aspect/vkPostMessageAspect"],function(e,t,s){return e.siteAspectsRegistry.registerSiteAspect(s.name,s.ctor),e.compRegistrar.register("wysiwyg.viewer.components.VKShareButton",t,!0),t});
//# sourceMappingURL=vKShareButton.min.js.map